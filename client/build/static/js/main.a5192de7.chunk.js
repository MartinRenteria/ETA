(this.webpackJsonpeta=this.webpackJsonpeta||[]).push([[0],{76:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(15),c=n.n(o),s=n(78),i=n(80),l=n(81),u=n(2);function j(){return Object(u.jsxs)(i.a,{children:[Object(u.jsxs)(i.a.Group,{controlId:"formBasicEmail",children:[Object(u.jsx)(i.a.Label,{children:"Email address"}),Object(u.jsx)(i.a.Control,{type:"email",placeholder:"Enter email"}),Object(u.jsx)(i.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(u.jsxs)(i.a.Group,{controlId:"formBasicPassword",children:[Object(u.jsx)(i.a.Label,{children:"Password"}),Object(u.jsx)(i.a.Control,{type:"password",placeholder:"Password"})]}),Object(u.jsx)(i.a.Group,{controlId:"formBasicCheckbox",children:Object(u.jsx)(i.a.Check,{type:"checkbox",label:"Check me out"})}),Object(u.jsx)(l.a,{variant:"primary",type:"submit",children:"Log In"}),Object(u.jsx)(l.a,{variant:"",type:"submit",children:"Sign up"})]})}function d(){return Object(u.jsxs)(i.a,{children:[Object(u.jsxs)(i.a.Group,{controlId:"exampleForm.ControlInput1",children:[Object(u.jsx)(i.a.Label,{children:"First Name"}),Object(u.jsx)(i.a.Control,{type:"Text",placeholder:"Enter First Name"})]}),Object(u.jsxs)(i.a.Group,{controlId:"exampleForm.ControlInput1",children:[Object(u.jsx)(i.a.Label,{children:"Last Name"}),Object(u.jsx)(i.a.Control,{type:"Text",placeholder:"Enter Last Name"})]}),Object(u.jsxs)(i.a.Group,{controlId:"exampleForm.ControlInput1",children:[Object(u.jsx)(i.a.Label,{children:"Email address"}),Object(u.jsx)(i.a.Control,{type:"email",placeholder:"name@example.com"})]}),Object(u.jsxs)(i.a.Group,{controlId:"formBasicPassword",children:[Object(u.jsx)(i.a.Label,{children:"Enter Password"}),Object(u.jsx)(i.a.Control,{type:"password",placeholder:"Password"})]}),Object(u.jsxs)(i.a.Group,{controlId:"formBasicPassword",children:[Object(u.jsx)(i.a.Label,{children:"Confirm Password"}),Object(u.jsx)(i.a.Control,{type:"password",placeholder:"Password"})]}),Object(u.jsxs)(i.a.Group,{controlId:"exampleForm.ControlSelect1",children:[Object(u.jsx)(i.a.Label,{children:"Select A Role for Employee"}),Object(u.jsxs)(i.a.Control,{as:"select",children:[Object(u.jsx)("option",{children:"Role 1"}),Object(u.jsx)("option",{children:"Role 2"}),Object(u.jsx)("option",{children:"Role 3"}),Object(u.jsx)("option",{children:"Role 4"}),Object(u.jsx)("option",{children:"Role 5"})]})]}),Object(u.jsxs)(i.a.Group,{controlId:"exampleForm.ControlTextarea1",children:[Object(u.jsx)(i.a.Label,{children:"Other Infomation"}),Object(u.jsx)(i.a.Control,{as:"textarea",rows:3})]}),Object(u.jsx)(l.a,{variant:"primary",type:"submit",children:"Sign Up"}),Object(u.jsx)(l.a,{variant:"",type:"submit",children:"Log In"})]})}n(29);var b=n(79);function h(){return Object(u.jsxs)(b.a,{bg:"dark",variant:"dark",children:[Object(u.jsx)(l.a,{variant:"outline-info",className:"ml-2",children:"Log In/Out"}),Object(u.jsx)(l.a,{variant:"outline-info",className:"ml-2",children:"Request Form"}),Object(u.jsx)(l.a,{variant:"outline-info",className:"ml-2",children:"View Time Clock History"})]})}var p=n(14),x=n.n(p),O=n(16),f=n(12),m=n(25),v=n(6),w=n(41),g=n(42),y=n(43),k=n.n(y),C=new(function(){function e(){Object(w.a)(this,e),this.axios=k.a.create()}return Object(g.a)(e,[{key:"setHeader",value:function(e,t){t?this.axios.defaults.headers.common[e]=t:delete this.axios.defaults.headers.common[e]}},{key:"register",value:function(e){return this.axios.post("/api/register",e)}},{key:"login",value:function(e){return this.axios.post("/api/login",e)}},{key:"authenticated",value:function(){return this.axios.post("/api/authenticated")}}]),e}()),I=n(17),L="LOGIN_USER",S="LOGOUT_USER",E=Object(r.createContext)({userAuth:{}}),R=E.Provider,G=function(e,t){var n=t.type,r=t.payload;switch(n){case L:return Object(I.a)(Object(I.a)({},e),{},{userAuth:r});case S:return Object(I.a)(Object(I.a)({},e),{},{userAuth:{}});default:return e}},N=function(e){var t=e.children,n=Object(r.useReducer)(G,{userAuth:{}}),a=Object(f.a)(n,2),o=a[0],c=a[1];return Object(u.jsx)(R,{value:[o,c],children:t})},P=function(){return Object(r.useContext)(E)},T=function(e){return A(e),F(e),e?Object(m.a)(e):void 0},A=function(e){e?localStorage.setItem("jwtToken",e):localStorage.removeItem("jwtToken")},F=function(e){e?C.setHeader("Authorization",e):C.setHeader("Authorization",!1)};var B=function(){var e=Object(r.useRef)(),t=Object(r.useRef)(),n=function(){var e=P(),t=Object(f.a)(e,2)[1];return function(){var e=Object(O.a)(x.a.mark((function e(n){var r,a,o,c,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.login(n);case 2:return r=e.sent,a=r.data,o=a.token,c=a.user,s=T(o),t({type:L,payload:{token:s,user:c}}),e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(),a=function(){var r=Object(O.a)(x.a.mark((function r(a){var o,c;return x.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a.preventDefault(),o=e.current.value,c=t.current.value,console.log(o,c),r.prev=4,r.next=7,C.register({email:o,password:c});case 7:return r.next=9,n({email:o,password:c});case 9:r.next=14;break;case 11:r.prev=11,r.t0=r.catch(4),r.t0.response&&r.t0.response.data?console.log(r.t0.response.data):console.log(r.t0);case 14:case"end":return r.stop()}}),r,null,[[4,11]])})));return function(e){return r.apply(this,arguments)}}();return Object(u.jsxs)("form",{onSubmit:a,children:[Object(u.jsx)("h2",{children:"Register"}),Object(u.jsx)("input",{type:"text",ref:e,placeholder:"Your email"}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"password",ref:t,placeholder:"Your password"}),Object(u.jsx)("br",{}),Object(u.jsx)("button",{children:"Submit"})]})},U=n(24);var W=function(){!function(){var e=P(),t=Object(f.a)(e,2)[1],n=Object(r.useState)(!1),a=Object(f.a)(n,2),o=a[0],c=a[1],s=Object(v.d)();Object(r.useEffect)((function(){if(!o)if(localStorage.jwtToken){var e=localStorage.jwtToken,n=Object(m.a)(e),r=Date.now()/1e3,a=function(){T(!1),t({type:S}),s.push("/")};n.exp<r?a():(F(e),function(){var e=Object(O.a)(x.a.mark((function e(){var r,o,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.authenticated();case 3:o=e.sent,s=o.data,r=s,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a();case 11:r&&t({type:L,payload:{token:n,user:r}}),c(!0);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()())}else c(!0)}),[t,s,o])}();var e=function(){var e=P(),t=Object(f.a)(e,1)[0].userAuth.token;return t&&t.exp>Date.now()/1e3}();return Object(u.jsx)(U.a,{children:Object(u.jsxs)(s.a,{className:"m-0 p-0",children:[Object(u.jsx)(h,{}),Object(u.jsx)("h1",{children:"Login"}),Object(u.jsx)(j,{}),Object(u.jsx)("br",{}),Object(u.jsx)("h1",{children:"Sign up"}),Object(u.jsx)(d,{}),!e&&Object(u.jsx)(B,{})]})})},H=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function D(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var z=document.getElementById("root");c.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(N,{children:Object(u.jsx)(W,{})})}),z),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");H?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):D(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):D(e)}))}}()}},[[76,1,2]]]);
//# sourceMappingURL=main.a5192de7.chunk.js.map